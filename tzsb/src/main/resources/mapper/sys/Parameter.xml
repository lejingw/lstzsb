<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="Parameter">
	<resultMap class="com.jatools.vo.sys.Parameter" id="Parameter.result">
		<result property = "name"       column = "param_name"/>
		<result property = "value"      column = "param_value"/>
		<result property = "memo"       column = "memo"/>
		<result property = "status"     column = "status"/>
		<result property = "createDate" column = "create_date"/>
		<result property = "createId"   column = "create_id"/>
		<result property = "updateDate" column = "update_date"/>
		<result property = "updateId"   column = "update_id"/>
	</resultMap>
	
	<sql id="Parameter_columns">
		param_name, param_value, memo, status, create_id, create_date, update_id, update_date
	</sql>
	
	<!-- 获取分页数据 -->
	<select id="Parameter.getParameterPageData" resultMap="Parameter.result" parameterClass="map">
		select <include refid="Parameter_columns"/>  from jat_sys_parameter a 
		where 1 = 1 <isNotEmpty property="name" prepend="and"> a.param_name = #name# </isNotEmpty>
		limit $start$, $limit$
	</select>
	
	<!-- 获取总条数 -->
    <select id="Parameter.getParameterTotalCount" resultClass="int" parameterClass="map">
		select count(1)  from jat_sys_parameter a 
		where 1 = 1 <isNotEmpty property="name" prepend="and"> a.param_name = #name# </isNotEmpty>
	</select>
	
	
    <select id="Parameter.getParameter" parameterClass="string" resultMap="Parameter.result">
		select <include refid="Parameter_columns"/> from jat_sys_parameter a 
		where a.param_name = #value#
	</select>
	
	<update id="Parameter.updateParameter" parameterClass="com.jatools.vo.sys.Parameter">
		update jat_sys_parameter a set 
			a.param_value      = #value#,
			a.memo			   = #memo#,
			a.status		   = #status#,
			a.update_id		   = #updateId#, 
			a.update_date	   = #updateDate#
		where a.param_name = #name# 
	</update>
	
	<delete id="Parameter.deleteParameter" parameterClass="string">
		delete from jat_sys_parameter where param_name = #value# 
	</delete>
</sqlMap>